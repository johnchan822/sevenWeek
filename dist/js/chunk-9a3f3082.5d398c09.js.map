{"version":3,"sources":["webpack:///./src/views/Font/Products.vue","webpack:///./src/components/Modal.vue","webpack:///./src/components/Modal.vue?9db4","webpack:///./src/views/Font/Products.vue?0dbd","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["class","style","role","active","isLoading","products","product","key","id","imageUrl","title","price","origin_price","type","disabled","loadingStatus","openModal","addCart","to","ref","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","src","alt","description","content","min","qty","addCartModal","props","data","modal","tempProduct","watch","this","mounted","$refs","keyboard","backdrop","methods","show","$emit","closeModal","hide","render","components","carts","getData","url","$http","get","then","res","console","log","cart","product_id","post","success","$httpMessageState","created","token","document","cookie","replace","defaults","headers","common","Authorization","$","DESCRIPTORS","global","has","isObject","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","prototype","undefined","EmptyStringDescriptionStore","SymbolWrapper","arguments","length","String","result","symbolPrototype","constructor","symbolToString","toString","native","regexp","configurable","symbol","valueOf","string","call","desc","slice","forced"],"mappings":"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","file":"js/chunk-9a3f3082.5d398c09.js","sourcesContent":["<template>\n<div class=\"container\">\n  <Loading :active=\"isLoading\"></Loading>\n          <table class=\"table align-middle\">\n            <thead>\n              <tr>\n                <th>圖片</th>\n                <th>商品名稱</th>\n                <th>價格</th>\n                <th></th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"product in products\" :key=\"product.id\">\n                <td style=\"width: 200px\">\n                  <!-- 注意這邊樣式的屬性 -->\n                  <div style=\"height: 100px; background-size: cover; background-position: center\"\n                    :style=\"{ 'background-image': `url(${product.imageUrl})`}\"\n                  ></div>\n                </td>\n                <td>\n                  {{product.title}}\n                </td>\n                <td>\n                  <div class=\"h5\" v-if=\"!product.price\">{{ product.origin_price }} 元</div>\n                  <del class=\"h6\" v-if=\"product.price\">原價 {{ product.origin_price }} 元</del>\n                  <div class=\"h5\" v-if=\"product.price\">現在只要 {{ product.price }} 元</div>\n                </td>\n                <td>\n                  <div class=\"btn-group btn-group-sm\">\n                    <!-- 這邊打開openModal後將個別資料帶進去 -->\n                    <button type=\"button\" class=\"btn btn-outline-secondary\"\n                    :disabled=\"loadingStatus === product.id\"\n                    @click=\"openModal(product)\">\n                      <div class=\"spinner-grow spinner-grow-sm\" role=\"status\"\n                      v-if=\" loadingStatus === product.id\">\n                        <span class=\"visually-hidden\">Loading...</span>\n                      </div>\n                      查看更多\n                    </button>\n                    <button type=\"button\" class=\"btn btn-outline-danger\"\n                    :disabled=\"loadingStatus === product.id\"\n                      @click=\"addCart(product)\">\n                      <div class=\"spinner-grow spinner-grow-sm\" role=\"status\"\n                      v-if=\" loadingStatus === product.id\">\n                        <span class=\"visually-hidden\">Loading...</span>\n                      </div>\n                      加到購物車\n                    </button>\n                      <router-link type=\"button\"\n                      class= \"btn btn-outline-primary\"\n                      :to=\"`/product/${product.id}`\">\n                        進入單一頁面\n                      </router-link>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n<modal ref=\"modal\" :product=\"product\" @emit-add-cart=\"addCart\"></modal>\n</template>\n\n<script >\nimport modal from '@/components/Modal.vue';\n\nexport default {\n  components: { modal },\n  data() {\n    return {\n      products: [],\n      carts: {},\n      product: {},\n      isLoading: false,\n    };\n  },\n  methods: {\n    getData() {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products`;\n      this.$http.get(url)\n        .then((res) => {\n          console.log(res);\n          this.products = res.data.products;\n          this.isLoading = false;\n        });\n    },\n    addCart(product, qty = 1) {\n      this.isLoading = true;\n      const cart = {\n        product_id: product.id,\n        qty,\n      };\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.post(url, { data: cart })\n        .then((res) => {\n          console.log(res);\n          if (res.data.success === true) {\n            this.$httpMessageState(res, '訂單加入');\n            this.$refs.modal.closeModal();\n            this.isLoading = false;\n          } else {\n            this.$httpMessageState(res, '訂單加入');\n          }\n        });\n    },\n    // 取得單一產品細節\n    openModal(product) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${product.id}`;\n      this.$http.get(url)\n        .then((res) => {\n          this.product = res.data.product;\n          this.$refs.modal.openModal();\n          this.isLoading = false;\n        });\n    },\n  },\n  created() {\n    this.getData();\n  },\n  mounted() {\n    const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n    this.$http.defaults.headers.common.Authorization = `${token}`;\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"productModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\">\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <!-- <span>{{product.title }}</span> -->\n          </h5>\n          <button type=\"button\" class=\"btn-close\"\n                  data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-6\">\n              <img class=\"img-fluid\" :src=\"product.imageUrl\" alt=\"\">\n            </div>\n            <div class=\"col-sm-6\">\n              <span class=\"badge bg-primary rounded-pill\">{{}}</span>\n              <p>商品描述：{{product.description}}</p>\n              <p>商品內容：{{product.content }}</p>\n                  <!-- 如果有價格就顯示原價沒有就顯示原價 -->\n              <del class=\"h6\" v-if=\"product.price\">原價 {{product.origin_price}} 元</del>\n              <div class=\"h5\" v-if=\"product.price\">現在只要 {{ product.price }} 元</div>\n              <div>\n                <div class=\"input-group\">\n                  <input type=\"number\" min=\"1\" class=\"form-control\" v-model.number=\"qty\">\n                  <button type=\"button\" class=\"btn btn-primary\" @click=\"addCartModal\"\n                  :disabled=\" loadingStatus === product.id\">加入購物車</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  props: ['product'],\n  data() {\n    return {\n      modal: ' ',\n      tempProduct: {},\n      qty: 1,\n    };\n  },\n  watch: {\n    // 注意這邊避免單向數據流\n    product() {\n      this.tempProduct = this.product;\n    },\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.modal, {\n      keyboard: false,\n      backdrop: 'static',\n    });\n  },\n  methods: {\n    openModal() {\n      this.modal.show();\n    },\n    addCartModal() {\n      this.$emit('emit-addCart', this.tempProduct, this.qty);\n    },\n    closeModal() {\n      this.modal.hide();\n    },\n  },\n};\n</script>\n","import { render } from \"./Modal.vue?vue&type=template&id=6dd646d4\"\nimport script from \"./Modal.vue?vue&type=script&lang=js\"\nexport * from \"./Modal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Products.vue?vue&type=template&id=4af6b01f\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}